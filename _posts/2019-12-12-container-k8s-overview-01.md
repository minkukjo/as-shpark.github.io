---
layout: post
title: '쿠버네티스 개요'
subtitle: ''
categories: container
tags: Kubernetes
comments: false
---

#### 1. 쿠버네티스란? ####
- 구글에서 개발된 컨테이너 오케스트레이션 도구로써, 애플리케이션 배포 및 운영 자동화를 하는데 도움을 준다.
- docker, containerd, cri-o, rktlet 등 여러 컨테이너 기술을 지원한다.
<br/>
<br/>

#### 2. 쿠버네티스의 주요 기능 ####
- 컨테이너를 실행할 수 있는 공간인 노드 클러스터를 제공한다.
- 컨테이너 실행, 교체, 삭제, 자동복구 등 컨테이너에 대한 작업 및 관리 기능을 제공한다.
-  로컬 스토리지 및 퍼블릭 클라우드 스토리지 등 원하는 스토리지 시스템을 자동으로 마운트할 수 있다.
- DNS 명, IP 주소 등을 통하여 컨테이너를 외부로 노출하고 트래픽에 대한 로드밸런싱을 지원한다.
- 비밀번호, OAuth 토큰 및 SSH 같은 민감한 정보를 저장하고 관리하는 기능을 제공한다.
<br/>
<br/>

#### 3. 쿠버네티스 클러스터의 구조 ####
##### 1) 쿠버네티스 클러스터란?  #####
- 컨테이너가 실행되는 물리 혹은 가상 호스트 서버들의 집합
- 노드는 하나 이상의 마스터 노드와 워커 노드로 구성되어 있다. 

##### 2) 마스터 노드의 구성요소 #####
- kube-apiserver: 쿠버네티스 API를 노출한다.
- etcd: 클러스터 데이터에 대한 백업 저장소로 사용된다.
- kube-scheduler: 노드를 모니터링하고 생성된 Pod를 실행할 노드를 선택한다.
- kube-controller-manager: 컨트롤러를 제어하는 역할을 수행한다.
- cloud-controller-manager: 클라우드 제공사업자와 상호작용하는 컨트롤러를 실행한다.

##### 3) 워커 노드의 구성요소 #####
- kubelet: 워커 노드에서 실행되는 에이전트로써, Pod에서 컨테이너가 확실하게 동작하도록 관리한다.
- kube-proxy: 클러스터의 각 노드에서 실행되는 네트워크 프록시로써, 노드의 네트워크 규칙을 유지/관리한다.
- container runtime: 컨테이너 실행을 담당하는 소프트웨어

![쿠버네티스 클러스터 구조](https://as-shpark.github.io/assets/img/k8s-001.PNG){: width="600" height="400"}
<br/>
<br/>

#### 4. 주요 오브젝트에 대한 개요 ####
##### 1) 네임스페이스(Namespace) #####
- 클러스터 내부를 논리적으로 구분해 놓은 것으로 클러스터 자원을 리소스 쿼터를 이용하여 분할할 수 있다. 
- 네임스페이스마다 권한을 설정할 수 있으므로 세세한 권한 제어가 가능하다.
- 각 리소스의 이름은 네임스페이스 내에서 유일해야 한다.

##### 2) 파드(Pod) #####
- 하나 이상의 컨테이너로 이루어진 컨테이너 그룹이다.
- 쿠버네티스의 가장 작은 배포 단위로써, 강한 결합을 유지해야 하는 컨테이너들을 묶어서 하나의 파드로 배포를 한다. 
- 마스터 노드에는 애플리케이션 파드를 배포할 수 없다. 

##### 3) 서비스(Service) #####
- 파드에 대한 경로나 서비스 디스커버리를 제공하는 오브젝트
- 서비스의 타입으로는 ClusterIP, NodePort, LoadBancer, ExternalName이 있다.
- 같은 네임스페이스 안에 있는 컨테이너를 참조할 때 서비스 명만으로 네임 레졸루션이 가능하다. 
- 다른 네임스페이스에 있는 컨테이너끼리는 {서비스명}.{네임스페이스명}으로 접근이 가능하다.

##### 4) 라벨(Labels) #####
- 쿠버네티스 클러스터 환경에서 생성되는 각 리소스에 첨부되는 키와 값의 쌍으로써 리소스의 특성을 식별하는데 사용한다.
- 코어 시스템에 직접적인 의미는 없다.
- 하나의 리소스가 여러 라벨을 동시에 가질 수 있으며 여러 리소스가 동일한 라벨을 가질 수도 있다.
- 셀렉터(selector)에 라벨을 지정하여 이용하여 사용할 리소스를 선택할 수 있다.

